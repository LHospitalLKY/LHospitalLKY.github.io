{"posts":[{"title":"Digital terrain mapping by the OSIRIS-REx mission","text":"本文对OSIRIS-REx任务中，DTM及相关数据铲平生产所安排的观测计划，以及DTM数据生产所使用的技术进行了综述。本文所介绍的内容，发生在The Use of Digital Terrain Models for Natural Feature Tracking at Asteroid Bennu之前。 IntroductionOSIRIS-REx对Bennu探测的任务中，生成global/local digital terrain models(DTMs)是十分重要的一环。DTM有着重要的科学意义和工程意义，是任务中十分重要的数据产出。 DTM数据生产的任务由Altimetry Working Group(AltWG)负责。除DTM数据之外，该任务组还会生产出surface tile map和geodetic products(例如倾斜、重力图等)。大地测量数据对于生产 和 有着至关重要的作用。除此之外，AltWG还会生产1064nm反射地图（使用OLA激光测距仪得到）和相对反照率地图（使用OCAMS相机得到）。 DTM数据的意义包括科学意义和工程意义。 科学意义所谓科学意义，是指DTM对于科学研究方面的一些好处。 揭示Bennu的演化DTM数据对于推断小天体的地质起源和演化是至关重要的，例如，通过无线电测量得到的精确的体积和密度，来对小天体体积密度进行限制（这大概是说，通过无线电测量结果，就能对小天体的体积密度进行一个估计），而小天体的体积密度则是Bennu是否为有孔天体(nature of the porosity within Bennu)的关键线索，这将反过来揭示小天体的起源、碰撞和演化。 提供容貌信息Global DTMs在天体容貌特性研究中同样具有至关重要对作用(necessary)。它能够反映出地表轮廓线是否具有可测量地形，并为“确定这些轮廓线与其余特征之间（例如陨坑、鹅卵石）的关系”提供了背景信息（context）。轮廓线信息能够帮助研究天体的内在自然特性。 研究采样点风化情况OSIRIS-REx的重要任务是Touch-and-Go定点采样。DTM能沟通提供地质学中关于表面风化影响的一些信息。采样点的重力势面（geopotential slope）、几何势面分布（geometric tile distribution）以及石块的几何高程（geometric height）对于理解采样点的地质学特性具有至关重要的作用。同时，采样点位置的上述数据产品，能够通过最大化OSIRIS-REx采样系统的表现，来尽可能减少风险。 工程意义DTM对于OSIRIS-REx的工程意义，在于光学导航方面。 DTM数据对于飞行器的导航有着重要作用。OSIRIS-REx任务在接近过程中，始终采用光学导航的方式。研究者们开发了一套称为”NFT’的Natural Feature Tracking|自动导航方法（Natural Feature Tracking，NFT。该方法中，需要使“自然特征”，在最后的采样阶段使用该方法。 OSIRIS-REx的导航过程中，均需要使用高精度的landmark navigation(MLNs)地图，这些地图包含了DTM的表面高程数据和相关的反照率信息。在任务的早期阶段，飞行器会收集生成MLN所需的数据，而MLS则在后续的任务阶段中，被Flight Dynamics System team所使用。早期阶段的数据包括图像和激光测距仪测量得到的数据，这些数据经过Approach imaging campaign和几次双曲线飞掠过程获得。关于具体的测绘规划和轨道信息，未来将在Bennu飞掠测量任务轨道中给出详细的整理。 Observation论文第二部分Observation中，介绍了DTM数据生成所进行的两种观测计划。为了得到生成DTM所需的数据，OSIRIS-REx将观测计划分成了两个部分： 基于OCAMS相机套件的被动观测，利用Stereophotoclinometry, SPC方法来建立模型 基于OLA的激光套件的主动观测，直接利用激光点云建立模型 OCAMS和OLA的观测数据被各自独立使用，分别生成DTM和相关数据，这种方式的好处是，能够对最终生成的数据提供一个相互检验的途径。 OCAMS和OLA观测数据，能够产生分辨率约为0.75m，绝对精度小于0.5m的DTM数据。同时，它们也可以提供生成更高精度DTM的数据，例如全小天体的0.32m或者0.08m分辨率DTM。两类传感器中，尽管OLA数据是sample-site附近0.05m以下分辨率DTM数据的主要来源，但是两种传感器的数据仍然都可以使用，来生成DTM。进一步，OCAMS和OLA分别得到的数据集，能够各自独立第完成对小天体的极区位置、旋转周期，以及形心-重心偏移量。OLA和OCAMS数据同样能够为NFT提供至多300个MLN的特征点。在NFT所需的特征中，需要包含多个0.08m分辨率的位置。 综上，OCAMS和OLA的观测计划，能够提供如下的数据： 生成0.75m分辨率、绝对精度&lt;0.5m的全局DTM所需的数据（各自独立地）； 生成0.32m或0.08m分辨率的整星DTM所需的数据（文中没有说是否是各自独立地生成数据）； 300个MLNs，NFT导航用。 接下来就分别对OCAMS和OLA的观测计划进行详细对介绍。 OCAMS ImagingOCAMS观测是OSIRIS-REx非常重要的任务规划，OCAMS将采集图像数据，以便使用SPC方法来进行形状建模。这部分观测将在接近段Approach、预观测段Preliminary Survey、Oribit A，以及细节观测段Detailed Survey来进行。观测计划如下图所示： 总的来说，OCAMS+SPC建模的过程为：其中： 关于各个观测计划的轨道信息，需要阅读OSIRIS-REx的其他文献 SPC建模中，共需要五幅图，分别为东西南北四个方向的图像和一副low phase的图像 OLA Observations使用激光测距仪OLA进行观测主要有两个目的： 在任务早期阶段，飞行器距离Bennu相对较远时(~7km)，为SPC Modelling提供小天体尺度确认，以及独立的飞行器导航结果； 在之后的阶段，由于可以生成极高精度的DTMs(GSD 0.08m global, &lt;0.05m locally for sample-sites)，OLA的扫描能力可以显著地降低任务时间。 早期的OLA测量结果对于确定SPC和导航过程中的相机问题或者bias骑着至关重要的作用[^1]。 [^1]: 经验显示，SPC建模过程中，会由于焦距的不确定性和几遍而导致小概率的问题。此外，飞行器相对目标的指向及范围的不确定性会造成SPC的degeneracy solution。 特别注意，当SPC产生degreneracy解时，基于SPC估计得到飞行器的指向和范围是不容易被deconvolved(反卷积)，这句话不太明白是什么意思。 SPC产生degeneracy解时，会导致对小天体模型整体尺寸估计的不确定。纠正这种不确定性可以采用多种技术手段，例如使用radio science tracking data来得到飞行器的速度信息，在apporach阶段，将飞行器速度与图像进行匹配，从而消除尺度估计的不确定性。相比上述方法，直接使用OLA测距仪是非常省时节力的方法，特别是在任务的前期阶段，任何对数据产品的调整都是非常迅速的，对下游的产品的影响是非常小的。这种激光测距信息再JAXA的隼鸟号“丝川”小天体探测任务中起到了非常重要的作用。 飞行器的导航过程也从激光测距信息中获益匪浅。激光测距仪为飞行器提供了额外的绝对尺度信息，对识别由于太阳热辐射撞击（可能是太阳风）、漏气导致的小作用力产生的影响有这很好的帮助。这些微小作用力很难对它们进行精确建模，但会持续影响飞行轨迹，使得飞行器偏离目标。 OLA在1km高度的操作是相对简单的。在这个距离下，单个OLA光栅扫描器可以提供Bennu表面的精确DTM。若干个这种数据融合，或者一次225m高度飞掠扫描成像，就可以提供预期采样点的GSD 0.05m DTM数据。一组在1km轨道所采集的OLA扫描数据，能够满足可采样性、安全性、NFT interest的需求，即构建一个GSD 0.05m的DTM数据。如下图所示。 仿真实验结果显示，在高度为750m的轨道上，经过为期一个月的数据收集，能够制作0.08m分辨率的Gloabl DTM。在这个DTM上，大约每0.08m的bin至少需要包含了5次返回（retuens）。多次返回能够减少垂直方向上DTM的不确定性。这意味着，即便考略到一些相当大的飞行器漂移，该分辨率的DTM数据仍然能够在80%左右的小天体表面获得。类似的，之前所述的拟采样点225m高度飞掠过程，获取的GSD 0.03m DTM中，每0.025-m bin的返回次数大致相同（是不是说与上述的0.08-m bin 5次返回一样）。 在原文第三段的最后，又提到了使用SPC去构建相同的、能够满足飞行器的安全性和采样需求的全局和局部DTMs，需要更为复杂的贴近观测计划，这个复杂性是由SPC所需的分辨率和观测方位所决定的。作者的结论似乎是实施纯SPC建模任务，会导致图像采集计划变得复杂，会对任务的人力资源、成本和日程安排造成巨大压力，（因此需要OLA来去做辅助，帮助缩短建图时间，个人理解）。 OLA观测计划如下图所示： OLA观测的具体细节如下图所整理： DTM development由上所述，DTM的生成采用两种方法：基于图像数据的光度立体法（SPC）和基于激光雷达数据的建模方法。 StereophotoclinometrySPC在1988年被用来对表面进行建模。该方法使用不同光照方向和观测方向的图像数据，来生成卫星、小天体、行星、彗星的地形和形状模型。火卫一、Phoebe、火星、水星、月球、灶神星、Itokawa、67P彗星等都用SPC建过模。如下图所示： SPC最初是作为光学导航工具的一部分而被研发出来，用来使飞行器在几乎任何光照和观测条件下都能够识别出天体表面特定的路标或控制点。有了这些路标位置，通过三角花，可以对飞行器相对观测体的轨迹和指向进行估计和计算。在这种导航过程中，飞行器观测下的天体表面形状和相对反照率需要被很好地建模。通过结合光度倾斜测量和立体几何方法（Combining geometric stereo techniques with photoclinometry），同时利用着色和光照方向，SPC能够生成上述所需的模型。SPC方法已经成功的运用在了Itokawa、Vesta、Ceres探索任务的导航上。 SPC能够使用（几乎）所有的图像，无关分辨率。SPC能够使用远距离低分辨率的图像（典型值为目标占据150-300像素）来构建初始模型，用来获取两极位置（其实也就是自转轴）、自转速度等信息的估计。在OSIRIS-REx任务中，使用边缘观测（limb observations）来构建第一个模型。作者团队将这些由limb部分构件的模型，与SPC处理过程中的图像相结合，从而生成初始的低分辨率的DTMs（又被称为maplets）或路标。利用这些路标，可以判断出目标自转轴倾角和自转速率。在获取更多的图像数据之后，就会构建出额外的DTMs，生成更好的形状模型，同时更新自转轴倾角和自转速率。这些改进反过来提供了一个初始模型，用于生成具有越来越高的GSD的DTM，这是因为在接近Bennu的过程中，可以获得越来越高分辨率的图像。 在使用limb observation构建出边缘模型之后，SPC使用立体视差来建立表面斜坡、表面亮度、表面相对反照率之间的关系。使用一系列目标大小超过300像素的图像对小天体进行建模，能够达到上述的标准。同时，多幅图像能够提供观测的不同方位角和高度角，以实现天体表面的离散可识别特征点的立体视觉。这些立体几何数据定义了分布在目标小天体或者行星上的许多maplets的中心像素。目标的旋转提供了表面上的任意点的不同光照信息，这使得如下两种行为成为可能：1）利用maplet建立倾斜度和亮度之间的关系；2）提供表面的相对反照率信息。倾斜度和亮度之间的关系，采用相应的光度学函数来进行描述，特别地，一种修正的Lommel-Seeliger函数被广泛应用于小天体研究中。测试结果表明，不同的光度函数对最终的数据产物有着微乎其微的影响（have little impact on the final products），这主要是由于SPC最佳的相位范围为50~120°，这个相位范围，大多数光度函数是相似的。SPC使用光度函数，利用所有的图像数据，通过求解优化问题的线性估计解来估算maplet中每个像素的表面倾斜度，该优化问题将最小化maplet中每个像素的亮度平方和的残差，计算过程最少使用5张图像，最多使用几百张图像。得到倾斜度之后，就可以生成高度，从而得到每个maplet的表面形状数据，通常为100 pixel $\\times$ 100 pixel的局部DTM。 为了得到Global Model，需要将上述得到的局部DTMs贴合在一起。完成上述工作主要依靠maplets之间的相互重合，以及之前所提到的边缘观测（limb observations），以及全局立体视差对每个maplets定义的中心位置。这些数据将提供maplets之间的tilt-to-height积分的约束，用来对global表面进行估计。用于闭合全局模型的最小二乘反演为飞行器的状态和目标的形状提供了一些形式上的不确定性。最后，SPC将会提供目标中心在图像的位置、两极位置、晃动、自转状态、体积等信息。 前文中已经提到，根据测试过程时的经验，为了得到最好的结果，SPC对一块地行进行建模，至少需要4幅不同观测高度角/方位角的图片，在相反的E-W和N-S象限约呈90°角分开^2。图片的太阳角度也应像观测角一样具有分布差异。这些太阳角需要位于东边或西边45°。一些南北方向的太阳方向对于带有一定自转倾角的小天体或者行星是非常有帮助的，它能够消除近极区的阴影的影响。除此以外，第五幅约0°出射角、10°入射角的图像能够获取所必需的相对反照率信息。所有的图像都需要与空间分辨率进行比较，至少需要1~2幅图拥有高于期望GSD的分辨率，而其他图像则不应低过该GSD约5倍因子乘积。^3 SPC建模的精度最终取决于观测条件。本文团队使用预测轨迹和观测设计，并使用重建的飞行器姿态和轨迹来苹果获得观测后的结果。更进一步，使用internal SPC metrics来对模型精度进行评估。Internal SPC metrics能够确定实拍图像和利用生成模型渲染得到的图像之间的残差或者差异。当使用组合生成全局形状模型时，还会从SPC中使用的最小二乘反演和maplets之间的内部一致性推导出形式不确定性^4。此外，一个独立的正规化交叉相关技术（an independent normalized cross-correlation technique）被用来评估SPC得到的表面高度、反照率结果的好坏。在相关性测试中，并不使用SPC过程中所使用到的图像。这种保护措施维持了结果评估和模型生产之间的独立性。上述的交叉相关测试能够获取模型的水平精度，以及较小程度上的垂直精度^5。OLA数据提供了另一个评估SPC产品的方式，OLA能够直接测量出到表面的距离，通过比较与SPC DTMs渲染出的图像及反照率之间的尺度差异，该距离信息将作为一个约束，用来评估SPC DTMs的优劣。最后，一系列的“truth”模型测试，包括视角集合评估（viewing geometry assessments）、SPC internal metrics、交叉相关结果，提供了一个在轨预测绝对精度和DTMs精确性的途径。 Tiling OLA scansOLA扫描数据的tiling（铺设，平铺）包含两个步骤： 使用SIFT特征描述子来寻找出独立OLA扫描数据之间的重叠特征/关键点 使用ICP方法来匹配两块OLA扫描数据 对于特征点过程，工作在OLA数据上。首先对OLA数据进行滤波，获得噪声返回值（the approach begins by first filtering the OLA data for any noisy returns）(总之就是先滤波)。接着局部DTMs以每个OLA扫描为中心被构建出来。点云在3D空间中的初始位置通过飞行器的位置和指向、OLA扫描探头指向、OLA测量距离确定。为了方便分析，假设局部DTM为刚体，因为OLA mirror是具有高度稳定性的。每个OLA DTM的拉普拉斯算子提供了一个2D图像，显示了曲面曲率随距离的变化率。大量的证据表明，当视角中有不同对斜坡时，Laplacian算子[^6]在识别匹配表面特征方面也有一定的用处。 [^6]: 如果这里的拉普拉斯算子是通常意义的算子的话，梯度的散度，或者$f$在当前位置$x = (x_{1}, … , x_{n})$的二阶偏导之和$\\sum_{i = 1}^{n}\\limits{\\frac{\\partial^{2} f}{\\partial x_i^2}}$ Laplacian算子得到的图像很适合用SIFT算法来进行匹配。SIFT能够在较大的几何范围和光度范围内对特征进行匹配。SIFT特征匹配完成后，通过滤波去除一些outliers，就可以用来计算3D刚体旋转和平移，从而将OLA扫描数据的重叠部分进行配准。配准的过程还需在整星范围进行迭代，从而使得重叠的OLA扫描的残差最小。最后需要进行最终的调整，同时对所有的OLA扫描进行变换，最小化OLA扫描和关键点调整得出的飞行器轨迹估计-FDS得到的飞行器轨迹估计之间的差异。其中，FDS使用SPC生成的landmark来进行轨迹估计，但它还会将radio science results得到的重力影响考虑到算法中。最后一步是确定OLA生成的形状模型，使得Bennu的质心与FDS得到的结果一致。上述基于SIFT的过程如下图所示： ICP是基于OLA数据生成形状模型的第二种方法，主要用在当keypoint方法寻找匹配失败时，这些失败往往是由于OLA扫描没有足够的overlap，或者是不平坦的数据（unevenly spaced data）。此外， ICP也可以用来将点云匹配到SPC生成的模型上，用来在轨评估SPC生成模型的质量，并对该模型质量进行进一步的提升。相比快速的特征点匹配，ICP是一个计算密集型算法，因为它要迭代地最小化两块点云的差异，来计算出位姿变换，这个计算过程中需要使用到非常多的点云中的点。OSIRIS-REx任务使用的ICP算法，使用最小化均方根误差（RMS）来对点云进行匹配。ICP可能会使用所有的3D点，因此除移除噪声点之外，不会有任何的预处理过程。一旦将outliers进行移除，就可以确定出OLA扫描之间的重叠部分，从而使用subregion(应该指的是这部分重叠区域)来对两块点云进行匹配，计算出平移和旋转。在ICP算法中，识别重叠区域是非常重要的，这样可以有效避免得到不正确的局部最优解。 在所有OLA数据的都矫正完成之后，就可以用来构建全局/局部地形模型。根据Bennu的球度（degree of sphericity），将采用1～2个步骤来构建DTM。Bennu接近于球体，将OLA数据装配在全局经纬度bin上，这些网格的大小为模型期望GSD尺寸的一半。当构建出300万个面的形状模型时，每个bin大概0.30m。算法将通过直接从0.30m网格像素内获取的所有adjusted OLA data中计算median radius，来生成全局表面地图。在那些没有OLA数据的bin中，会使用tension-based spline fit插值来补充完整。装配完成的网格地图将会被重新采样，以生成3D形状模型，这样，就可以在天体表面上生成几乎相等面积的facets。为了应付更通用的情况，例如细长型天体（Eros）、极度凹型天体（67P）、具有悬臂结构的情况，又构建了一系列的小的局部地图，称为mapolas。（在各自完成构建之后），这些mapolas将使用SPC或AltWG开发的替代算法，再次融合成更广的数据产品（例如小天体形状模型、全局/降落点的地形图），其中在局部法线的方向进行调整，平滑全局形状模型，以匹配局部mapolas。 对ROI(Region of Interest)的条带调整[^7]OLA数据进行采样，能够直接生成更高分辨率局部数据产品。对整个小天体的局部OLA采样最终将生成0.3~0.08m分辨率的DTMs。对采样点，生成的是GSD 0.05m的map。依靠OLA传感器，极高分辨率的map（约GSD 0.03m）同样是可行的。 基于OLA生成的形状模型的精确性和准确性依赖条带调整的准确度。在飞行过程中，条带调整后独立OLA点之间的标准误差矩阵是非常关键的一个指标。OSIRIS-REx任务中，将会在一块maploa中给定的bin上测量该误差。最终，authors further determine the quality of adjustment to scans by using spectral analyses where spatial differences in the frequency domain are assessed between overlapping scans after adjustment.(最后这句话实在翻译不来) 此外，还会通过图像之间的交叉相关和SIFT算法来实现更高的精度。在人造模型上的测试用来进行标定，以得到OLA建模精度的一个合理的估计。 [^7]: Strip Adjustment，条带调整，它的主要目标是通过提高相邻条带之间的compatibility，来最大限度第减少激光雷达系统参数中的系统误差的影响","link":"/2023/09/22/Digital-terrain-mapping-by-the-OSIRIS-REx-mission/"}],"tags":[{"name":"Bennu","slug":"Bennu","link":"/tags/Bennu/"},{"name":"Mission Summary","slug":"Mission-Summary","link":"/tags/Mission-Summary/"},{"name":"SPC","slug":"SPC","link":"/tags/SPC/"}],"categories":[{"name":"Asteroid Mission","slug":"Asteroid-Mission","link":"/categories/Asteroid-Mission/"}],"pages":[]}